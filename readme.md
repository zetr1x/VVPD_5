# **[ĞŸÑ€Ğ¾ Ğ¸Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ğ»ÑŒĞ½Ğ¾Ğµ Ğ¿Ñ€ĞµĞ´ÑÑ‚Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ¸Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ñ](https://robocraft.ru/computervision/536?ysclid=lqfl68zjmd612736521)**

## **5.1 ĞŸĞ¾ÑÑ‚Ğ°Ğ½Ğ¾Ğ²ĞºĞ° Ğ·Ğ°Ğ´Ğ°Ñ‡Ğ¸**

ĞšĞ°Ğ¶Ğ´Ğ¾Ğµ Ñ‡Ñ‘Ñ€Ğ½Ğ¾-Ğ±ĞµĞ»Ğ¾Ğµ (Ğ¾Ğ±ĞµÑÑ†Ğ²ĞµÑ‡ĞµĞ½Ğ½Ğ¾Ğµ) Ğ¸Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ğµ Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ Ğ¿Ñ€ĞµĞ´ÑÑ‚Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ğ² Ğ²Ğ¸Ğ´Ğµ Ğ¼Ğ°Ñ‚Ñ€Ğ¸Ñ†Ñ‹, ÑĞ¾ÑÑ‚Ğ¾ÑÑ‰ĞµĞ¹ Ğ¸Ğ· Ğ¾Ğ´Ğ½Ğ¸Ñ… Ğ»Ğ¸ÑˆÑŒ Ñ‡Ğ¸ÑĞµĞ» â€“ ĞºĞ¾Ğ½Ñ‚Ñ€Ğ°ÑÑ‚Ğ½Ğ¾ÑÑ‚Ğ¸ ĞºĞ¾Ğ½ĞºÑ€ĞµÑ‚Ğ½Ğ¾Ğ³Ğ¾ Ğ¿Ğ¸ĞºÑĞµĞ»Ñ. Ğ Ğ¸Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ğ»ÑŒĞ½Ğ¾Ğµ Ğ¿Ñ€ĞµĞ´ÑÑ‚Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ¸Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ñ â€“ ÑÑ‚Ğ¾ Ğ¼Ğ°Ñ‚Ñ€Ğ¸Ñ†Ğ° Ñ€Ğ°Ğ·Ğ¼ĞµÑ€Ğ½Ğ¾ÑÑ‚ÑŒ ĞºĞ¾Ñ‚Ğ¾Ñ€Ğ¾Ğ¹ ÑĞ¾Ğ²Ğ¿Ğ°Ğ´Ğ°ĞµÑ‚ Ñ Ñ€Ğ°Ğ·Ğ¼ĞµÑ€Ğ½Ğ¾ÑÑ‚ÑŒÑ Ğ¸ÑÑ…Ğ¾Ğ´Ğ½Ğ¾Ğ³Ğ¾ Ğ¸Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ñ. Ğ­Ğ»ĞµĞ¼ĞµĞ½Ñ‚Ñ‹ ÑÑ‚Ğ¾Ğ¹ Ğ¼Ğ°Ñ‚Ñ€Ğ¸Ñ†Ñ‹ Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ Ñ€Ğ°ÑÑÑ‡Ğ¸Ñ‚Ğ°Ñ‚ÑŒ Ğ¿Ğ¾ Ñ„Ğ¾Ñ€Ğ¼ÑƒĞ»Ğ°Ğ¼:
 
$II(x, y) = âˆ‘I(i, j)$

$II(x, y) = I(x, y) - II(x - 1, y - 1) - II(x - 1, y) - II(x, y - 1)$

* *ğ¼(ğ¼,ğ‘—)* â€“ ÑÑ€ĞºĞ¾ÑÑ‚ÑŒ Ğ¿Ğ¸ĞºÑĞµĞ»Ñ Ğ¸ÑÑ…Ğ¾Ğ´Ğ½Ğ¾Ğ³Ğ¾ Ğ¸Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ñ,
* *ğ¼ğ¼(ğ‘¥, ğ‘¦)* â€“ ÑĞ»ĞµĞ¼ĞµĞ½Ñ‚ Ğ¸Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ğ»ÑŒĞ½Ğ¾Ğ³Ğ¾ Ğ¸Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ñ, ÑĞ¾Ğ´ĞµÑ€Ğ¶Ğ°Ñ‰Ğ¸Ğ¹ ÑĞµĞ±Ğµ ÑÑƒĞ¼Ğ¼Ñƒ Ğ¿Ğ¸ĞºÑĞµĞ»ĞµĞ¹ Ğ¸Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ñ Ğ² Ğ¿Ñ€ÑĞ¼Ğ¾ÑƒĞ³Ğ¾Ğ»ÑŒĞ½Ğ¸ĞºĞµ Ğ¾Ñ‚ (0,0) Ğ´Ğ¾ (x,y).

ĞĞ´Ğ½Ğ¾Ğ¹ Ğ¸Ğ· Ğ¿Ğ¾Ğ»ĞµĞ·Ğ½ĞµĞ¹ÑˆĞ¸Ñ… Ğ¾ÑĞ¾Ğ±ĞµĞ½Ğ½Ğ¾ÑÑ‚ĞµĞ¹ Ğ¸Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ğ»ÑŒĞ½Ğ¾Ğ³Ğ¾ Ğ¿Ñ€ĞµĞ´ÑÑ‚Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ñ 
ÑĞ²Ğ»ÑĞµÑ‚ÑÑ Ğ²Ğ¾Ğ·Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ÑÑ‚ÑŒ Ğ¾Ñ‡ĞµĞ½ÑŒ Ğ±Ñ‹ÑÑ‚Ñ€Ğ¾ Ğ²Ñ‹Ñ‡Ğ¸ÑĞ»Ğ¸Ñ‚ÑŒ ÑÑƒĞ¼Ğ¼Ñƒ Ğ¿Ğ¸ĞºÑĞµĞ»ĞµĞ¹ Ğ¿Ñ€Ğ¾Ğ¸Ğ·Ğ²Ğ¾Ğ»ÑŒĞ½Ğ¾Ğ³Ğ¾ 
Ğ¿Ñ€ÑĞ¼Ğ¾ÑƒĞ³Ğ¾Ğ»ÑŒĞ½Ğ¸ĞºĞ° (Ğ¸Ğ»Ğ¸ Ğ»ÑĞ±Ğ¾Ğ¹ Ğ´Ñ€ÑƒĞ³Ğ¾Ğ¹ Ñ„Ğ¸Ğ³ÑƒÑ€Ñ‹, ĞºĞ¾Ñ‚Ğ¾Ñ€ÑƒÑ Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ Ğ°Ğ¿Ğ¿Ñ€Ğ¾ĞºÑĞ¸Ğ¼Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ 
Ğ½ĞµÑĞºĞ¾Ğ»ÑŒĞºĞ¸Ğ¼Ğ¸ Ğ¿Ñ€ÑĞ¼Ğ¾ÑƒĞ³Ğ¾Ğ»ÑŒĞ½Ğ¸ĞºĞ°Ğ¼Ğ¸). Ğ¡ÑƒĞ¼Ğ¼Ñƒ Ğ²Ğ½ÑƒÑ‚Ñ€Ğ¸ Ğ¿Ñ€ÑĞ¼Ğ¾ÑƒĞ³Ğ¾Ğ»ÑŒĞ½Ğ¸ĞºĞ° Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ 
Ğ²Ñ‹Ñ€Ğ°Ğ·Ğ¸Ñ‚ÑŒ Ñ‡ĞµÑ€ĞµĞ· ÑÑƒĞ¼Ğ¼Ñ‹ Ğ¸ Ñ€Ğ°Ğ·Ğ½Ğ¾ÑÑ‚Ğ¸ ÑĞ¼ĞµĞ¶Ğ½Ñ‹Ñ… (Ñ€Ğ¸ÑÑƒĞ½Ğ¾Ğº 5.1) Ğ¿Ñ€ÑĞ¼Ğ¾ÑƒĞ³Ğ¾Ğ»ÑŒĞ½Ğ¸ĞºĞ¾Ğ² Ğ¿Ğ¾ Ñ„Ğ¾Ñ€Ğ¼ÑƒĞ»Ğµ:

$SumOfRect(ABCD) = II(A) + II(C) - II(B) - II(D)$

* *Ğ* â€“ Ğ¿Ñ€ÑĞ¼Ğ¾ÑƒĞ³Ğ¾Ğ»ÑŒĞ½Ğ¸Ğº Ğ² Ğ»ĞµĞ²Ğ¾Ğ¼ Ğ²ĞµÑ€Ñ…Ğ½ĞµĞ¼ ÑƒĞ³Ğ»Ñƒ,
* *B* â€“ Ğ²ÑĞµ Ğ¿Ñ€ÑĞ¼Ğ¾ÑƒĞ³Ğ¾Ğ»ÑŒĞ½Ğ¸ĞºĞ¸ Ğ²ĞµÑ€Ñ…Ğ½ĞµĞ³Ğ¾ Ñ€ÑĞ´Ğ°,
* *C* â€“ Ğ²ÑĞµ Ğ¿Ñ€ÑĞ¼Ğ¾ÑƒĞ³Ğ¾Ğ»ÑŒĞ½Ğ¸ĞºĞ¸,
* *D* â€“ Ğ²ÑĞµ Ğ¿Ñ€ÑĞ¼Ğ¾ÑƒĞ³Ğ¾Ğ»ÑŒĞ½Ğ¸ĞºĞ¸ Ğ»ĞµĞ²Ğ¾Ğ¹ ĞºĞ¾Ğ»Ğ¾Ğ½ĞºĞ¸.

ĞĞµĞ¾Ğ±Ñ…Ğ¾Ğ´Ğ¸Ğ¼Ğ¾ Ğ½Ğ°Ğ¿Ğ¸ÑĞ°Ñ‚ÑŒ Ğ´Ğ²Ğµ Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¸:
* Ğ¿ĞµÑ€Ğ²Ğ°Ñ Ğ±ÑƒĞ´ĞµÑ‚ Ğ¾ÑÑƒÑ‰ĞµÑÑ‚Ğ²Ğ»ÑÑ‚ÑŒ Ñ€Ğ°ÑÑ‡Ñ‘Ñ‚ Ğ¼Ğ°Ñ‚Ñ€Ğ¸Ñ†Ñ‹ Ğ¸Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ğ»ÑŒĞ½Ğ¾Ğ³Ğ¾ Ğ¿Ñ€ĞµĞ´ÑÑ‚Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ñ 
Ğ¸Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ñ;
* Ğ²Ñ‚Ğ¾Ñ€Ğ°Ñ Ğ±ÑƒĞ´ĞµÑ‚ Ğ½Ğ°Ñ…Ğ¾Ğ´Ğ¸Ñ‚ÑŒ ÑÑƒĞ¼Ğ¼Ñƒ Ğ¿Ğ¸ĞºÑĞµĞ»ĞµĞ¹ Ğ¿Ñ€Ğ¾Ğ¸Ğ·Ğ²Ğ¾Ğ»ÑŒĞ½Ğ¾Ğ³Ğ¾ Ğ¿Ñ€ÑĞ¼Ğ¾ÑƒĞ³Ğ¾Ğ»ÑŒĞ½Ğ¸ĞºĞ°, 
Ğ¾Ğ³Ñ€Ğ°Ğ½Ğ¸Ñ‡ĞµĞ½Ğ½Ğ¾Ğ³Ğ¾ Ğ·Ğ°Ğ´Ğ°Ğ½Ğ½Ñ‹Ğ¼Ğ¸ Ğ¿Ğ¸ĞºÑĞµĞ»ÑĞ¼Ğ¸.

![ĞŸÑ€Ğ¸Ğ¼ĞµÑ€ ÑÑƒĞ¼Ğ¼Ñ‹](pictures/Sum_example.png)

ĞŸÑ€Ğ¸Ğ¼ĞµÑ€ ÑÑƒĞ¼Ğ¼Ñ‹ Ğ¿Ğ¸ĞºÑĞµĞ»ĞµĞ¹ Ğ² Ğ¿Ñ€Ğ¾Ğ¸Ğ·Ğ²Ğ¾Ğ»ÑŒĞ½Ğ¾Ğ¼ Ğ¿Ñ€ÑĞ¼Ğ¾ÑƒĞ³Ğ¾Ğ»ÑŒĞ½Ğ¸ĞºĞµ Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ ÑƒĞ²Ğ¸Ğ´ĞµÑ‚ÑŒ Ğ½Ğ° Ñ€Ğ¸ÑÑƒĞ½ĞºĞµ Ğ²Ñ‹ÑˆĞµ.

## **5.2 Ğ’Ñ…Ğ¾Ğ´Ğ½Ñ‹Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ**

ĞĞ° Ğ²Ñ…Ğ¾Ğ´ ĞºĞ°Ğ¶Ğ´Ğ°Ñ Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ñ Ğ¿Ğ¾Ğ»ÑƒÑ‡Ğ°ĞµÑ‚ Ğ¼Ğ°Ñ‚Ñ€Ğ¸Ñ†Ñƒ Ñ†ĞµĞ»Ñ‹Ñ… Ñ‡Ğ¸ÑĞµĞ», Ğ³Ğ´Ğµ ĞºĞ°Ğ¶Ğ´Ñ‹Ğ¹ ÑĞ»ĞµĞ¼ĞµĞ½Ñ‚ â€“ ÑÑ€ĞºĞ¾ÑÑ‚ÑŒ Ğ¿Ğ¸ĞºÑĞµĞ»Ñ Ğ¸ÑÑ…Ğ¾Ğ´Ğ½Ğ¾Ğ³Ğ¾ Ğ¸Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ñ. Ğ¢Ğ°Ğº ĞºĞ°Ğº Ğ¾ÑÑƒÑ‰ĞµÑÑ‚Ğ²Ğ»ÑÑ‚ÑŒ Ñ‚Ğ°ĞºĞ¾Ğ¹ Ğ²Ğ²Ğ¾Ğ´ Ğ²ĞµÑÑŒĞ¼Ğ° Ğ½ĞµĞ¿Ñ€Ğ¸ÑÑ‚Ğ½Ğ¾, Ğ¼Ğ¾Ğ¶ĞµÑ‚Ğµ Ğ½Ğ°Ğ¿Ğ¸ÑĞ°Ñ‚ÑŒ Ğ²ÑĞ¿Ğ¾Ğ¼Ğ¾Ğ³Ğ°Ñ‚ĞµĞ»ÑŒĞ½ÑƒÑ Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ñ Ğ´Ğ»Ñ Ğ³ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ğ¸ Ñ‚Ğ°ĞºĞ¾Ğ¹ Ğ¼Ğ°Ñ‚Ñ€Ğ¸Ñ†Ñ‹ Ğ¸Ğ· Ñ†ĞµĞ»Ñ‹Ñ… Ñ‡Ğ¸ÑĞµĞ» Ğ² Ğ´Ğ¸Ğ°Ğ¿Ğ°Ğ·Ğ¾Ğ½Ğµ Ğ¾Ñ‚ 0 Ğ´Ğ¾ 255. ĞĞ° Ğ²Ñ…Ğ¾Ğ´ Ğ²Ñ‚Ğ¾Ñ€Ğ¾Ğ¹ Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¸ Ğ´Ğ¾Ğ¿Ğ¾Ğ»Ğ½Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ Ğ¿Ğ¾Ğ´Ğ°ÑÑ‚ÑÑ ĞºĞ¾Ğ¾Ñ€Ğ´Ğ¸Ğ½Ğ°Ñ‚Ñ‹ Ğ²Ñ‹Ğ´ĞµĞ»ĞµĞ½Ğ½Ğ¾Ğ³Ğ¾ Ğ¿Ñ€ÑĞ¼Ğ¾ÑƒĞ³Ğ¾Ğ»ÑŒĞ½Ğ¸ĞºĞ°, ÑÑƒĞ¼Ğ¼Ñƒ ĞºĞ¾Ñ‚Ğ¾Ñ€Ğ¾Ğ³Ğ¾ Ğ²Ğ°Ğ¼ Ğ½ĞµĞ¾Ğ±Ñ…Ğ¾Ğ´Ğ¸Ğ¼Ğ¾ Ğ²Ñ‹Ñ‡Ğ¸ÑĞ»Ğ¸Ñ‚ÑŒ. ĞŸĞµÑ€Ğ²Ñ‹Ğµ Ğ´Ğ²Ğ° Ñ‡Ğ¸ÑĞ»Ğ° â€“ *x1* Ğ¸ *y1* â€“ ĞºĞ¾Ğ¾Ñ€Ğ´Ğ¸Ğ½Ğ°Ñ‚Ñ‹ Ğ²ĞµÑ€Ñ…Ğ½ĞµĞ³Ğ¾ Ğ»ĞµĞ²Ğ¾Ğ³Ğ¾ ÑƒĞ³Ğ»Ğ° Ğ¿Ñ€ÑĞ¼Ğ¾ÑƒĞ³Ğ¾Ğ»ÑŒĞ½Ğ¸ĞºĞ°, Ğ° Ğ¾ÑÑ‚Ğ°Ğ»ÑŒĞ½Ñ‹Ğµ â€“ *x2* Ğ¸ *y2* â€“ ĞºĞ¾Ğ¾Ñ€Ğ´Ğ¸Ğ½Ğ°Ñ‚Ñ‹ Ğ½Ğ¸Ğ¶Ğ½ĞµĞ³Ğ¾ Ğ¿Ñ€Ğ°Ğ²Ğ¾Ğ³Ğ¾ ÑƒĞ³Ğ»Ğ° Ğ¿Ñ€ÑĞ¼Ğ¾ÑƒĞ³Ğ¾Ğ»ÑŒĞ½Ğ¸ĞºĞ°.

## **5.3 Ğ¡Ğ¸Ğ³Ğ½Ğ°Ñ‚ÑƒÑ€Ñ‹ Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¹**

Ğ¤ÑƒĞ½ĞºÑ†Ğ¸Ğ¸ Ğ¾Ğ±ÑĞ·Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ Ğ´Ğ¾Ğ»Ğ¶Ğ½Ñ‹ ÑĞ¾Ğ¾Ñ‚Ğ²ĞµÑ‚ÑÑ‚Ğ²Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ğ¾Ğ¿Ñ€ĞµĞ´ĞµĞ»Ñ‘Ğ½Ğ½Ñ‹Ğ¼ ÑĞ¸Ğ³Ğ½Ğ°Ñ‚ÑƒÑ€Ğ°Ğ¼, 
Ğ¿Ñ€ĞµĞ´ÑÑ‚Ğ°Ğ²Ğ»ĞµĞ½Ğ½Ñ‹Ğ¼ Ğ½Ğ° Ğ»Ğ¸ÑÑ‚Ğ¸Ğ½Ğ³Ğ°Ñ… 5.1-5.2.

Ğ›Ğ¸ÑÑ‚Ğ¸Ğ½Ğ³ 5.1 â€“ Ğ¡Ğ¸Ğ³Ğ½Ğ°Ñ‚ÑƒÑ€Ğ° Ğ¿ĞµÑ€Ğ²Ğ¾Ğ¹ Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¸

```python
def integral_view (image: List[List]) -> List[List]:
```

Ğ›Ğ¸ÑÑ‚Ğ¸Ğ½Ğ³ 5.2 â€“ Ğ¡Ğ¸Ğ³Ğ½Ğ°Ñ‚ÑƒÑ€Ğ° Ğ²Ñ‚Ğ¾Ñ€Ğ¾Ğ¹ Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¸

```python
def rect_sum (image: List[List], x1: int, y1: int, x2: int, y2: int) -> int:
```

## **Ğ¢Ñ€ĞµĞ±Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ**
ĞŸÑ€Ğ¾Ğ³Ñ€Ğ°Ğ¼Ğ¼Ğ° Ğ´Ğ¾Ğ»Ğ¶Ğ½Ğ° Ğ±Ñ‹Ñ‚ÑŒ:

* [X] ĞŸÑ€Ğ¾Ğ³Ñ€Ğ°Ğ¼Ğ¼Ğ° Ğ´Ğ¾Ğ»Ğ¶Ğ½Ğ° Ğ±Ñ‹Ñ‚ÑŒ Ğ²Ñ‹Ğ¿Ğ¾Ğ»Ğ½ĞµĞ½Ğ° Ğ½Ğ° ÑĞ·Ñ‹ĞºĞµ Python
* [X] ĞŸÑ€Ğ¾Ğ³Ñ€Ğ°Ğ¼Ğ¼Ğ° Ğ´Ğ¾Ğ»Ğ¶Ğ½Ğ° Ğ±Ñ‹Ñ‚ÑŒ ÑƒÑÑ‚Ğ¾Ğ¹Ñ‡Ğ¸Ğ²Ğ° Ğº Ğ²Ğ²Ğ¾Ğ´Ñƒ Ğ½ĞµĞºĞ¾Ñ€Ñ€ĞµĞºÑ‚Ğ½Ñ‹Ñ… Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğ¹
* [X] Ğ’Ğ²Ğ¾Ğ´ Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğ¹ Ğ¿Ñ€Ğ¾Ğ¸ÑÑ…Ğ¾Ğ´Ğ¸Ñ‚ Ñ ĞºĞ»Ğ°Ğ²Ğ¸Ğ°Ñ‚ÑƒÑ€Ñ‹. 

## **ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ Ğ¿Ñ€Ğ¾Ğ³Ñ€Ğ°Ğ¼Ğ¼Ñ‹**

Ğ’ Ğ¿Ñ€Ğ¾Ğ³Ñ€Ğ°Ğ¼Ğ¼Ğµ Ñ€ĞµĞ°Ğ»Ğ¸Ğ·Ğ¾Ğ²Ğ°Ğ½Ñ‹ 3 Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¸: `generate_matrix`, `integral_view` Ğ¸ `rect_sum`

Ğ¤ÑƒĞ½ĞºÑ†Ğ¸Ñ `generate_matrix` ÑĞ¾Ğ·Ğ´Ğ°ĞµÑ‚ Ğ¼Ğ°Ñ‚Ñ€Ğ¸Ñ†Ñƒ Ğ¿Ñ€Ğ¾Ğ¸Ğ·Ğ²Ğ¾Ğ»ÑŒĞ½Ğ¾Ğ³Ğ¾ Ñ€Ğ°Ğ·Ğ¼ĞµÑ€Ğ°

```python
return [[randint(0, 255) for _ in range(width)] for _ in range(height)]
```
Ğ¤ÑƒĞ½ĞºÑ†Ğ¸Ñ `integral_view` Ñ€Ğ°ÑÑÑ‡Ğ¸Ñ‚Ñ‹Ğ²Ğ°ĞµÑ‚ Ğ¼Ğ°Ñ‚Ñ€Ğ¸Ñ†Ñƒ Ğ¸Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ğ»ÑŒĞ½Ğ¾Ğ³Ğ¾ Ğ¿Ñ€ĞµĞ´ÑÑ‚Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ñ Ğ¸Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ñ, Ğ³Ğ´Ğµ ĞºĞ°Ğ¶Ğ´Ñ‹Ğ¹ ÑĞ»ĞµĞ¼ĞµĞ½Ñ‚ Ğ²Ñ‹Ñ‡Ğ¸ÑĞ»ÑĞµÑ‚ÑÑ Ğ¿Ğ¾ Ñ„Ğ¾Ñ€Ğ¼ÑƒĞ»Ğµ: 

$II(x, y) = I(x, y) - II(x - 1, y - 1) - II(x - 1, y) - II(x, y - 1)$

```python
    height = len(image)
    width = len(image[0])
    integral_image = [[0] * width for _ in range(height)]
    for x in range(width):
    for y in range(height):
        value_1 = image[y][x]
        value_2 = integral_image[y - 1][x - 1] if y > 0 and x > 0 else 0
        value_3 = integral_image[y][x - 1] if x > 0 else 0
        value_4 = integral_image[y - 1][x] if y > 0 else 0
        integral_image[y][x] = value_1 + value_4 + value_3 - value_2
    return integral_image
```

Ğ¤ÑƒĞ½ĞºÑ†Ğ¸Ñ `rect_sum` Ğ½Ğ°Ñ…Ğ¾Ğ´Ğ¸Ñ‚ ÑÑƒĞ¼Ğ¼Ñƒ Ğ¿Ğ¸ĞºÑĞµĞ»ĞµĞ¹ Ğ¿Ñ€Ğ¾Ğ¸Ğ·Ğ²Ğ¾Ğ»ÑŒĞ½Ğ¾Ğ³Ğ¾ Ğ¿Ñ€ÑĞ¼Ğ¾ÑƒĞ³Ğ¾Ğ»ÑŒĞ½Ğ¸ĞºĞ° Ğ¼Ğ°Ñ‚Ñ€Ğ¸Ñ†Ñ‹ Ğ¸Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ñ, Ğ¿Ğ¾ Ñ„Ğ¾Ñ€Ğ¼ÑƒĞ»Ğµ:

$SumOfRect(ABCD) = II(A) + II(C) - II(B) - II(D)$

```python
    rect_a = integral_image[y1 - 1][x1 - 1] if y1 > 0 and x1 > 0 else 0
    rect_b = integral_image[y1 - 1][x2] if y1 > 0 else 0
    rect_c = integral_image[y2][x2]
    rect_d = integral_image[y2][x1 - 1] if x1 > 0 else 0
    return rect_a + rect_c - rect_b - rect_d
```
